<!--
/**
 * MagoArab_PhoneMailer
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 *
 * @category   MagoArab
 * @package    MagoArab_PhoneMailer
 * @copyright  Copyright Â© 2025 MagoArab (https://www.magoarab.com)
 * @license    http://opensource.org/licenses/osl-3.0.php Open Software License (OSL 3.0)
 */
-->
<div class="field" data-bind="visible: isVisible">
    <!-- Hidden email field when PhoneMailer is enabled -->
    <div data-role="phonemail-config" data-phonemail-enabled="1" style="display: none;"></div>
    <!-- ko if: isVisible() -->
    <div class="control _with-tooltip">
        <input class="input-text"
               type="email"
               data-bind="
                    textInput: email,
                    hasFocus: emailFocused,
                    attr: {
                        id: uid,
                        name: inputName,
                        placeholder: $t('Email Address'),
                        'aria-describedby': getDescriptionId(),
                        'aria-required': required,
                        'aria-invalid': validationResult() === false
                    }"
               name="username"
               data-validate="{required:true, 'validate-email':true}" />
        <!-- Email field tooltip -->
        <div class="field-tooltip toggle">
            <span class="field-tooltip-action action-help"
                  data-bind="mageInit: {'dropdown':{'activeClass': '_active'}}"
                  data-toggle="dropdown"
                  aria-haspopup="true"
                  aria-expanded="false"></span>
            <div class="field-tooltip-content"
                 data-target="dropdown"
                 data-bind="html: $t('We\'ll send your order confirmation here.')"></div>
        </div>
    </div>
    <!-- Email validation message -->
    <div class="field-error" data-bind="visible: validationResult() === false">
        <span data-bind="text: getErrorMessage()"></span>
    </div>
    <!-- /ko -->
</div>